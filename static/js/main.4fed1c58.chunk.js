(this["webpackJsonpsendsay-form"]=this["webpackJsonpsendsay-form"]||[]).push([[0],{24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(7),i=a.n(l),s=(a(29),a(1)),c=function(e){var t=e.error,a=e.id,r=e.errorMessage;return n.a.createElement("div",{className:"error"},t?n.a.createElement("div",{"data-error":a,className:"error__message error__message_active"},r):n.a.createElement("div",{className:"error__message error__message_hidden"}))},o=function(e){var t=e.labelText,a=e.id,r=e.type,l=e.name,i=e.value,s=e.onChange,o=e.placeholder,u=e.error,d=e.errorMessage;return n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label",htmlFor:a},t),n.a.createElement("input",{id:a,type:r,className:u?"field__input field__input_error":"field__input",placeholder:o,name:l,value:i,onChange:s}),n.a.createElement(c,{error:u,id:a,errorMessage:d}))},u={updateSenderName:function(e){return{type:"UPDATE_SENDER_NAME",payload:e}},updateSenderEmail:function(e){return{type:"UPDATE_SENDER_EMAIL",payload:e}}},d=Object(s.b)((function(e){return{name:e.sender.name,email:e.sender.email,errorName:e.errors.input.senderName,errorEmail:e.errors.input.senderEmail}}),u)((function(e){var t=e.updateSenderName,a=e.updateSenderEmail,r=e.name,l=e.email,i=e.errorName,s=e.errorEmail;return n.a.createElement("div",{className:"field-group"},n.a.createElement(o,{labelText:"\u041e\u0442 \u043a\u043e\u0433\u043e",id:"senderName",type:"text",name:"name",value:r,onChange:t,placeholder:"\u0418\u043c\u044f",error:i,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f"}),n.a.createElement(o,{id:"senderEmail",type:"email",name:"email",value:l,onChange:a,placeholder:"Email",error:s,errorMessage:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}))})),m={updateReceiverName:function(e){return{type:"UPDATE_RECEIVER_NAME",payload:e}},updateReceiverEmail:function(e){return{type:"UPDATE_RECEIVER_EMAIL",payload:e}}},E=Object(s.b)((function(e){return{name:e.receiver.name,email:e.receiver.email,errorName:e.errors.input.receiverName,errorEmail:e.errors.input.receiverEmail}}),m)((function(e){var t=e.updateReceiverEmail,a=e.updateReceiverName,r=e.name,l=e.email,i=e.errorName,s=e.errorEmail;return n.a.createElement("div",{className:"field-group"},n.a.createElement(o,{labelText:"\u041a\u043e\u043c\u0443",id:"receiverName",type:"text",name:"name",value:r,onChange:a,placeholder:"\u0418\u043c\u044f",error:i,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f"}),n.a.createElement(o,{id:"receiverEmail",type:"email",name:"email",value:l,onChange:t,placeholder:"Email",error:s,errorMessage:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}))})),p=function(e){var t=e.labelText,a=e.id,r=e.type,l=e.name,i=e.value,s=e.onChange,o=e.error,u=e.errorMessage;return n.a.createElement("div",null,n.a.createElement("label",{className:"label",htmlFor:a},t),n.a.createElement("textarea",{className:o?"message__text message__text_error":"message__text",id:a,type:r,name:l,value:i,onChange:s}),n.a.createElement(c,{error:o,id:a,errorMessage:u}))},f={updateMessageSubject:function(e){return{type:"UPDATE_MESSAGE_SUBJECT",payload:e}},updateMessageText:function(e){return{type:"UPDATE_MESSAGE_TEXT",payload:e}}},v=Object(s.b)((function(e){return{subject:e.message.subject,text:e.message.text,errorSubject:e.errors.input.subject,errorText:e.errors.input.text}}),f)((function(e){var t=e.updateMessageSubject,a=e.updateMessageText,r=e.subject,l=e.text,i=e.errorSubject,s=e.errorText;return n.a.createElement("div",{className:"message"},n.a.createElement("div",{className:"message__subject"},n.a.createElement(o,{labelText:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430",id:"subject",type:"text",name:"subject",value:r,onChange:t,error:i,errorMessage:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0442\u0435\u043c\u0443"})),n.a.createElement(p,{labelText:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",id:"text",type:"text",name:"text",value:l,onChange:a,error:s,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"}))})),g=function(e){var t=e.value,a=e.onClick;return n.a.createElement("input",{type:"submit",value:t,className:"submit",onClick:a})},_={submitMessage:function(e){return{type:"SUBMIT_MESSAGE",payload:e}}},h=Object(s.b)(null,_)((function(e){return n.a.createElement(g,{value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onClick:function(){(0,e.submitMessage)()}})})),b=a(15),y=a(16),S=a(22),C=a(17),N=a(23),A=function(e){return{type:"VALIDATE_FILES",payload:e}},j=function(e){return n.a.createElement("div",null,e.drag&&n.a.createElement("div",{className:"drag-drop__cover"},n.a.createElement("div",{className:"drag-drop__info"},n.a.createElement("p",{className:"drag-drop__text"},"\u0411\u0440\u043e\u0441\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430, \u044f \u043b\u043e\u0432\u043b\u044e"),n.a.createElement("p",{className:"drag-drop__message"},"\u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b. \u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0444\u0430\u0439\u043b\u0430 \u0434\u043e 5 \u041c\u0411"))))},L=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(a=Object(S.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(l)))).state={drag:!1},a.dragCounter=null,a.dropRef=n.a.createRef(),a.preventDefaultStopPropagation=function(e){e.preventDefault(),e.stopPropagation()},a.handleDrag=function(e){a.preventDefaultStopPropagation(e)},a.handleDragIn=function(e){a.preventDefaultStopPropagation(e),a.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&a.setState({drag:!0})},a.handleDragOut=function(e){a.preventDefaultStopPropagation(e),a.dragCounter--,0===a.dragCounter&&a.setState({drag:!1})},a.handleDrop=function(e){a.preventDefaultStopPropagation(e),a.setState({drag:!1});var t=a.props.validateFiles;e.dataTransfer.files&&e.dataTransfer.files.length>0&&t(e.dataTransfer.files),e.dataTransfer.clearData(),a.dragCounter=0},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){return n.a.createElement("div",{className:"drag-drop",ref:this.dropRef},n.a.createElement(j,{drag:this.state.drag}),this.props.children)}}]),t}(n.a.Component),R={validateFiles:A},T=Object(s.b)(null,R)(L),M=function(){return n.a.createElement("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.4 14.743C2.608 14.743 1.8635 14.435 1.3035 13.8745C0.743498 13.3145 0.434998 12.57 0.434998 11.778C0.434998 10.9865 0.743498 10.2415 1.3035 9.6815L9.7885 1.1965C11.3345 -0.349 13.8505 -0.3495 15.396 1.1965C16.145 1.945 16.5575 2.941 16.5575 4C16.5575 5.059 16.145 6.055 15.396 6.8035L9.032 13.1675L8.3745 12.51L14.7385 6.146C15.922 4.9625 15.922 3.0375 14.7385 1.854C13.556 0.671 11.63 0.6705 10.4465 1.854L1.961 10.3395C1.5765 10.7235 1.365 11.2345 1.365 11.778C1.365 12.322 1.5765 12.8325 1.961 13.217C2.7545 14.0105 4.0455 14.01 4.839 13.217L11.203 6.853C11.6065 6.4495 11.6065 5.793 11.203 5.389C10.7995 4.9855 10.1425 4.986 9.7395 5.3895L5.4965 9.632L4.839 8.9745L9.0815 4.7315C9.8475 3.966 11.0945 3.9655 11.8605 4.7315C12.6265 5.498 12.6265 6.7445 11.8605 7.5105L5.4965 13.8745C4.9365 14.435 4.192 14.743 3.4 14.743",fill:"#0055FB"}))},O={validateFiles:A},D=Object(s.b)((function(e){return{typeError:e.errors.files.type,fileSizeError:e.errors.files.singleFileSize,totalSizeError:e.errors.files.totalFilesSize}}),O)((function(e){var t=e.typeError,a=e.fileSizeError,r=e.totalSizeError;return n.a.createElement("div",{className:"file-input"},n.a.createElement("label",{htmlFor:"file",className:"file-input__label"},n.a.createElement(M,null),n.a.createElement("div",{className:"file-input__label-name"},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b")),n.a.createElement("input",{type:"file",id:"file",name:"file",multiple:!0,hidden:!0,onChange:function(t){return e.validateFiles(t.target.files)}}),n.a.createElement("div",{className:"file-input__error-message"},n.a.createElement("div",{"data-error":"type"},t?"\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430":null),n.a.createElement("div",{"data-error":"singleFileSize"},a?"\u0420\u0430\u0437\u043c\u0435\u0440 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5\u041c\u0411":null),n.a.createElement("div",{"data-error":"totalSize"},r?"\u041e\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 20\u041c\u0411":null)))})),x=function(){return n.a.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5H5V13H4V5Z",fill:"#FF6666"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5H7V13H6V5Z",fill:"#FF6666"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5H9V13H8V5Z",fill:"#FF6666"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2H13V3H0V2Z",fill:"#FF6666"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.96497 2.5H8.03497V1.5C8.03497 1.205 7.79497 0.965004 7.49997 0.965004H5.49997C5.20497 0.965004 4.96497 1.205 4.96497 1.5V2.5H4.03497V1.5C4.03497 0.692004 4.69247 0.0350037 5.49997 0.0350037H7.49997C8.30747 0.0350037 8.96497 0.692004 8.96497 1.5V2.5Z",fill:"#FF6666"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.50003 16H3.50003C2.69303 16 1.98653 15.3455 1.92503 14.541L1.00153 2.5385L1.99853 2.4615L2.92203 14.4645C2.94403 14.75 3.21403 15 3.50003 15H9.50003C9.78603 15 10.056 14.75 10.078 14.465L11.0015 2.4615L11.9985 2.5385L11.075 14.541C11.0135 15.3455 10.307 16 9.50003 16Z",fill:"#FF6666"}))},F=function(){return n.a.createElement("svg",{className:"big-clip-icon",width:"34",height:"30",viewBox:"0 0 34 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.4"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.79999 29.486C5.21599 29.486 3.72699 28.87 2.607 27.749C1.487 26.629 0.869995 25.14 0.869995 23.556C0.869995 21.973 1.487 20.483 2.607 19.363L19.577 2.393C22.669 -0.698 27.701 -0.699 30.792 2.393C32.29 3.89 33.115 5.882 33.115 8C33.115 10.118 32.29 12.11 30.792 13.607L18.064 26.335L16.749 25.02L29.477 12.292C31.844 9.925 31.844 6.075 29.477 3.708C27.112 1.342 23.26 1.341 20.893 3.708L3.922 20.679C3.153 21.447 2.73 22.469 2.73 23.556C2.73 24.644 3.153 25.665 3.922 26.434C5.509 28.021 8.09099 28.02 9.67799 26.434L22.406 13.706C23.213 12.899 23.213 11.586 22.406 10.778C21.599 9.971 20.285 9.972 19.479 10.779L10.993 19.264L9.67799 17.949L18.163 9.463C19.695 7.932 22.189 7.931 23.721 9.463C25.253 10.996 25.253 13.489 23.721 15.021L10.993 27.749C9.873 28.87 8.384 29.486 6.79999 29.486Z",fill:"black"})))},I={removeFile:function(e){return{type:"REMOVE_FILE",payload:e}}},w=Object(s.b)((function(e){return{files:e.attachedFiles.files}}),I)((function(e){var t=e.files,a=e.removeFile;return n.a.createElement("div",{className:"list"},t.map((function(e,t){return n.a.createElement("div",{className:"attachement",key:t},n.a.createElement(F,null),n.a.createElement("div",{className:"attachement__name"},n.a.createElement("div",{className:"attachement__file-name"},e.name.substring(0,e.name.lastIndexOf("."))),n.a.createElement("div",null,".".concat(e.name.substring(e.name.lastIndexOf(".")+1)))),n.a.createElement("div",{className:"attachement__remove",onClick:function(){return a(e)}},n.a.createElement(x,null),n.a.createElement("span",{className:"attachement__remove-label"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})))})),U={clearAll:function(){return function(e){e({type:"CLEAR_FILES"}),e({type:"TOGGLE_MODAL"}),e({type:"CLEAR_MESSAGE"}),e({type:"CLEAR_RECEIVER"}),e({type:"CLEAR_SENDER"})}}},z=Object(s.b)((function(e){return{email:e.receiver.email}}),U)((function(e){return n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal__header"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443"),n.a.createElement("div",{className:"modal__message"},"\u0421\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432\u044b\u043b\u0435\u0442\u0438\u0442 \u0438\u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u0431\u0443\u0434\u0435\u0442 \u0434\u0432\u0438\u0433\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u043f\u043e\u0447\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f ",e.email," \u0441\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c\u044e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043e\u0432"),n.a.createElement(g,{value:"\u041e\u041a",onClick:e.clearAll}))})),P=Object(s.b)((function(e){return{modalState:e.modal}}),null)((function(e){return n.a.createElement("div",{className:"form"},n.a.createElement("div",{className:"form__content-wrapper"},e.modalState?n.a.createElement(z,null):n.a.createElement(T,null,n.a.createElement("div",{className:"header"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),n.a.createElement(d,null),n.a.createElement(E,null),n.a.createElement(v,null),n.a.createElement(w,null),n.a.createElement(D,null),n.a.createElement(h,null))))})),V=a(18),G=a.n(V),k={updateMessageStatus:function(e){return{type:"UPDATE_MESSAGE_STATUS",payload:e}}},H=Object(s.b)(null,k)((function(e){var t,a=e.message,l=a.id,i=a.date,s=a.subject,c=a.status,o=e.updateMessageStatus;return-1===c&&(t="\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),c>-1&&(t="\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"),c<-1&&(t="\u041e\u0448\u0438\u0431\u043a\u0430"),Object(r.useEffect)((function(){if(c>-1){var e=setInterval((function(){o(l)}),5e3);return function(){clearInterval(e)}}})),n.a.createElement("div",{className:"list__item"},n.a.createElement("div",{"data-name":"date",className:"list__date"},i),n.a.createElement("div",{"data-name":"subject",className:"list__subject"},s),n.a.createElement("div",{"data-name":"status",className:G()("list__status",{list__status_success:-1===c},{list__status_pending:c>-1},{list__status_error:c<-1})},t))})),B=Object(s.b)((function(e){return{sentMessages:e.sentMessage}}),null)((function(e){var t=e.sentMessages,a=Object.keys(t).length;return n.a.createElement("div",{className:"messages-list"},n.a.createElement("div",{className:"list__header"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),n.a.createElement("div",{className:a?"list__item list__item_header":"list__item_hidden"},n.a.createElement("div",{className:"list__date"},"\u0414\u0430\u0442\u0430"),n.a.createElement("div",{className:"list__subject"},"\u0422\u0435\u043c\u0430"),n.a.createElement("div",{className:"list__status"},"\u0421\u0442\u0430\u0442\u0443\u0441")),n.a.createElement("div",{className:"list__items"},a?Object.values(t).map((function(e){return n.a.createElement(H,{key:e.id,message:e})})):n.a.createElement("div",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0435\u0449\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c")))})),Z=function(){return n.a.createElement("div",null,n.a.createElement(P,null),n.a.createElement(B,null))},J=a(5),Y=a(3),$=a(2),q={name:"",email:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SENDER_NAME":case"UPDATE_SENDER_EMAIL":return t.payload.persist(),Object($.a)({},e,Object(Y.a)({},t.payload.target.name,t.payload.target.value));case"CLEAR_SENDER":return Object($.a)({},e,{},q);default:return e}},X={name:"",email:""},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RECEIVER_NAME":case"UPDATE_RECEIVER_EMAIL":return t.payload.persist(),Object($.a)({},e,Object(Y.a)({},t.payload.target.name,t.payload.target.value));case"CLEAR_RECEIVER":return Object($.a)({},e,{},X);default:return e}},Q={subject:"",text:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MESSAGE_SUBJECT":case"UPDATE_MESSAGE_TEXT":return t.payload.persist(),Object($.a)({},e,Object(Y.a)({},t.payload.target.name,t.payload.target.value));case"CLEAR_MESSAGE":return Object($.a)({},e,{},Q);default:return e}},te={input:{senderName:!1,senderEmail:!1,receiverName:!1,receiverEmail:!1,subject:!1,message:!1},files:{type:!1,singleFileSize:!1,totalFilesSize:!1}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPLAY_INPUT_ERRORS":case"DISPLAY_FILE_ERRORS":return Object($.a)({},e,{},t.payload);default:return e}},re=a(12),ne=a.n(re),le={files:[],totalSize:null},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALIDATE_FILES":return e;case"ADD_FILES":var a=e.totalSize;t.payload.forEach((function(e){return a+=e.size}));var r={files:ne()(e.files,{$push:t.payload}),totalSize:a};return Object($.a)({},e,{},r);case"REMOVE_FILE":var n=e.files.filter((function(e){return e.name!==t.payload.name})),l=null;n.forEach((function(e){return l+=e.size}));var i={files:ne()(e.files,{$set:n}),totalSize:l};return Object($.a)({},e,{},i);case"CLEAR_FILES":return Object($.a)({},e,{},le);default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_MESSAGE":case"UPDATE_MESSAGE_STATUS":return e;case"ADD_TO_SENT":var a=Object(Y.a)({},t.payload.id,{id:t.payload.id,subject:t.payload.subject,date:t.payload.date,status:null});return Object($.a)({},e,{},a);case"UPDATE__STATUS":return Object($.a)({},e,Object(Y.a)({},t.payload.id,Object($.a)({},e[t.payload.id],{status:+t.payload.status})));default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MODAL":return!e;default:return e}},oe=Object(J.combineReducers)({sender:W,receiver:K,message:ee,errors:ae,attachedFiles:ie,sentMessage:se,modal:ce}),ue=a(19),de=a(20),me=function(e){return!e.length>0},Ee=function(e){return!new RegExp("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$").test(e)},pe=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(r){if("SUBMIT_MESSAGE"!==r.type)return e(r);var n,l=a(),i=l.sender,s=i.name,c=i.email,o=l.receiver,u=o.name,d=o.email,m=l.message,E=m.subject,p=m.text,f={input:{senderName:me(s),senderEmail:Ee(c),receiverName:me(u),receiverEmail:Ee(d),subject:me(E),text:me(p)}};t({type:"DISPLAY_INPUT_ERRORS",payload:f}),n=f.input,Object.values(n).some((function(e){return e}))||e(r)}}},fe=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(r){if("VALIDATE_FILES"!==r.type)return e(r);var n={files:{}},l=["jpg","jpeg","png","gif","pdf","doc","docx","xls","xlsx","zip"],i=a().attachedFiles.totalSize,s=null,c=!0,o=!1,u=void 0;try{for(var d,m=r.payload[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var E=d.value;s+=E.size,l.includes(E.name.substring(E.name.lastIndexOf(".")+1))?E.size>5242880?n.files.singleFileSize=!0:i+E.size>20971520&&(n.files.totalFilesSize=!0):n.files.type=!0}}catch(p){o=!0,u=p}finally{try{c||null==m.return||m.return()}finally{if(o)throw u}}console.log(s),s>20971520&&(n.files.totalFilesSize=!0),t({type:"DISPLAY_FILE_ERRORS",payload:n}),Object.keys(n.files).length||t(function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var l,i=function(){var e=l.value,a={};a.name=e.name;var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e=r.result.substring(r.result.indexOf(",")+1);a.content=e},a.encoding="base64",a.size=e.size,t.push(a)},s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)i()}catch(p){r=!0,n=p}finally{try{a||null==s.return||s.return()}finally{if(r)throw n}}return{type:"ADD_FILES",payload:t}}(r.payload)),e(r)}}},ve=a(21),ge=a(8),_e=a.n(ge),he=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(r){if("SUBMIT_MESSAGE"!==r.type)return e(r);var n=a(),l=n.sender,i=l.name,s=l.email,c=n.receiver,o=c.name,u=c.email,d=n.message,m=d.subject,E=d.text,p=n.attachedFiles.files,f=new _e.a;f.login({login:"fireweb2112@gmail.com",password:"thi7Musam"}).then((function(e){f.request({action:"issue.send.test",letter:{subject:m,"from.name":i,"from.email":s,"to.name":o,message:{text:E},attaches:Object(ve.a)(p)},sendwhen:"test",mca:[u]}).then((function(e){t(function(e){return{type:"ADD_TO_SENT",payload:{id:e.id,subject:e.subject,date:(new Date).toLocaleString("ru",{day:"2-digit",month:"long"})}}}({id:e["track.id"],subject:m})),t({type:"TOGGLE_MODAL"})}))})),e(r)}}},be=function(e){var t=e.dispatch;e.getState;return function(e){return function(a){if("UPDATE_MESSAGE_STATUS"!==a.type)return e(a);var r=new _e.a;r.login({login:"fireweb2112@gmail.com",password:"thi7Musam"}).then((function(e){r.request({action:"track.get",id:a.payload}).then((function(e){t({type:"UPDATE__STATUS",payload:{id:a.payload,status:e.obj.status}})}))})),e(a)}}},ye=Object(J.createStore)(oe,Object(de.composeWithDevTools)(Object(J.applyMiddleware)(pe,fe,he,be,ue.a)));i.a.render(n.a.createElement(s.a,{store:ye},n.a.createElement(Z,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.4fed1c58.chunk.js.map